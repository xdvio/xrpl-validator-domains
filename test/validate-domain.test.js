const { verifyValidatorDomain } = require('../src/index.js')
const expect = require('chai').expect

const rabbitKickManifiest = "240000007B7121EDA54C85F91219FD259134B6B126AD64AE7204B81DD4052510657E1A5697246AD27321032F7ACF6D67C42C9C898F576F92FE4638EB6C88D0DC7F6710AF00ED6BF50D97D676473045022100BE0B2E6071AED53C19A76BDC6EDE1A351C35343AA7CF917587F93C9D85C5A7B702207135F72654DC3AD70FE8A4DEB128965268A312DFB3E9A7C68BA8E9A8931F4285770F7261626269746B69636B2E636C7562701240C4FF2A6D277D24DEFB1C1EDF67285171EA02DC035FEF6216DEE41019CE41611AD4430AF59938DC505E538CCF669D521AC2A456C3805FE3CA85BB10B2A691B50B"
const mayursManifest = "24000000027121ED24ED1C96F59215417497AC51CD9850549A51586E00856F0037D82EAA01AB4C7B732102AB53AFAADA932FB71888F8E37F6CB48B08612E6CB77B3C5A3227F6ABFD0641A076473045022100A887F4C261786803AD033839FB52272E1123A57DFF48C07C06616D2028A4CC0502203F3325B1635864EBBFE44991910D66836F66FC00E14E965AB0F5352AD97816FF771770617969642E6D617975726268616E646172792E636F6D70124070AF72795E290EC997D0DDCE5180F260FD013BE75A3C57924829599D53F14CB071F090E76428BA77A43C3530CBA8BA72CF1AC59EEF9A352E9EA4B8334703EB0E"

describe("Verifies domains", () => {
    it("rabbitkick.club", async () => {
        expect(await verifyValidatorDomain(rabbitKickManifiest)).to.eql({ 
            status: 'success', 
            message: 'rabbitkick.club has been verified'
        })
    })

    it("payid.mayurbhandary.com", async () => {
        expect(await verifyValidatorDomain(mayursManifest)).to.eql({
            status: 'success', 
            message: 'payid.mayurbhandary.com has been verified'
        })
    })
})